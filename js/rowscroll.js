$.extend($.easing,{eoq:function(n,e,i,u,s){return-u*(e/=s)*(e-2)+i}});$(document).on('ready load',function(){var scrollTargets=$('.scroll-target'),scrollTops=[],wiggleRoom=10,scrollSpeed=400,totalScrollTargets=scrollTargets.length,lasttmX=0,lasttmY=0;function getScrollTops(){scrollTargets.each(function(){scrollTops.push(Math.ceil($(this).offset().top));});}function autoScrollTo(targetEl){$('html, body').stop().animate({scrollTop:$(targetEl).offset().top},scrollSpeed,'eoq');}function processScroll(e){var scrollPosition=window.scrollY;if(e.deltaY>0){var scrollDirection='up';}else if(e.deltaY<=0){var scrollDirection='down';}if(scrollDirection=='down'){for(var i=0;i<totalScrollTargets;i++){if(scrollPosition>=(scrollTops[i]-wiggleRoom)&&scrollPosition<(scrollTops[i+1]-wiggleRoom)){autoScrollTo(scrollTargets[i+1]);var c_scr=$(scrollTargets[i+1]).attr("id");$('.dot_navigation').addClass('comeFrom_right');$('.dot_navigation').find('.dot_nav').removeClass('active_s');$('.sf_nav').removeClass('sf_nav_1');if(c_scr=='s_1'){$('.dot_navigation').removeClass('comeFrom_right');}else if(c_scr=='s_2'){$('.dot_navigation').find('#s_2_sl').addClass('active_s');}else if(c_scr=='s_3'){$('.dot_navigation').find('#s_3_sl').addClass('active_s');}else if(c_scr=='s_4'){$('.dot_navigation').find('#s_4_sl').addClass('active_s');}else if(c_scr=='s_5'){$('.dot_navigation').find('#s_5_sl').addClass('active_s');$('.footSec').addClass('move_up');$('.sf_nav').addClass('sf_nav_1');}else if(c_scr=='last_view'){$('.dot_navigation').find('#s_5_sl').addClass('active_s');$('.footSec').addClass('move_up');}else{$('.dot_navigation').find('.dot_nav').removeClass('.active_s');};break;}}}else if(scrollDirection=='up'){for(var i=0;i<totalScrollTargets;i++){if(scrollPosition<=(scrollTops[i+1]+wiggleRoom)&&scrollPosition>(scrollTops[i]+wiggleRoom)){autoScrollTo(scrollTargets[i]);var c_scr_D=$(scrollTargets[i]).attr("id");$('.dot_navigation').addClass('comeFrom_right');$('.dot_navigation').find('.dot_nav').removeClass('active_s');$('.sf_nav').removeClass('sf_nav_1');$('.footSec').removeClass('move_up');if(c_scr_D=='s_1'){$('.dot_navigation').removeClass('comeFrom_right');}else if(c_scr_D=='s_2'){$('.dot_navigation').find('#s_2_sl').addClass('active_s');}else if(c_scr_D=='s_3'){$('.dot_navigation').find('#s_3_sl').addClass('active_s');}else if(c_scr_D=='s_4'){$('.dot_navigation').find('#s_4_sl').addClass('active_s');$('.footSec').removeClass('move_up');}else if(c_scr_D=='s_5'){$('.dot_navigation').find('#s_5_sl').addClass('active_s');$('.sf_nav').addClass('sf_nav_1');}else{$('.dot_navigation').find('.dot_nav').removeClass('.active_s');};break;}}}return false;}if(totalScrollTargets>0){getScrollTops();$(window).on('resize',function(){scrollTops.length=0;getScrollTops();});$(window).on('mousewheel',function(e){if(scrollFlag){console.log("m in");}else{e.preventDefault();processScroll(e);}});$(window).on('touchstart',function(e){tsX=e.originalEvent.touches[0].clientX;tsY=e.originalEvent.touches[0].clientY;});$(window).on('touchmove',function(e){tmX=e.originalEvent.changedTouches[0].clientX;tmY=e.originalEvent.changedTouches[0].clientY;if(Math.abs(lasttmX-tmX)>30&&Math.abs(lasttmY-tmY)<5){}else if(lasttmY==0||Math.abs(lasttmY-tmY)>1){e.preventDefault();}lasttmX=tmX;lasttmY=tmY;});$(window).on('touchend',function(e){teX=e.originalEvent.changedTouches[0].clientX;teY=e.originalEvent.changedTouches[0].clientY;if(Math.abs(tsX-teX)>50){return true;}else if(tsY>teY+5){e.deltaY=-1;}else if(tsY<teY-5){e.deltaY=1;}else{return true;}e.preventDefault();processScroll(e);});}});